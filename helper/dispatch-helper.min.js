/*! GTM Data Dispatcher – dispatch-helper.js | © / MEDIAFAKTUR | MIT License | https://github.com/mediafaktur/gtm-data-dispatcher */
!function(){function s(e,t,n){const o={event:(e||"dispatch")+"_"+("ok"===t?"success":"error"),dispatch_event_name:e||"unknown_event",dispatch_status:t};"ok"===t&&void 0!==n&&(o.dispatch_echo=n),"error"===t&&n&&(o.error_message=n),window.dataLayer=window.dataLayer||[],window.dataLayer.push(o)}window.postDispatch=function(e,t,n,o){fetch(t,{method:"POST",headers:{"Content-Type":"text/plain"},body:e,credentials:"include"}).then(function(e){return e.ok?e.json().then(function(e){o&&(e&&!0===e.received?s(n,"ok",e.echo):s(n,"ok"))}).catch(function(e){console.warn("Response is not valid JSON:",e),o&&s(n,"ok")}):(console.error("POST failed with status:",e.status),void(o&&s(n,"error","http_"+e.status)))}).catch(function(e){console.error("POST request failed:",e),o&&s(n,"error",e.message||"unknown")})}}();